"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[687],{1129:(a,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>d,toc:()=>i});var s=e(4848),n=e(8453);const r={},o="MySQL and MariaDB Backup and Restore",d={id:"database/sql/backup-restore",title:"MySQL and MariaDB Backup and Restore",description:"",source:"@site/content/database/sql/backup-restore.md",sourceDirName:"database/sql",slug:"/database/sql/backup-restore",permalink:"/blog/content/database/sql/backup-restore",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/content/database/sql/backup-restore.md",tags:[],version:"current",frontMatter:{},sidebar:"sqlSidebar",next:{title:"SQL Injection",permalink:"/blog/content/database/sql/sql-injection"}},c={},i=[];function p(a){const t={code:"code",h1:"h1",header:"header",pre:"pre",...(0,n.R)(),...a.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"mysql-and-mariadb-backup-and-restore",children:"MySQL and MariaDB Backup and Restore"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:'docker run -d --name my-mariadb -e MARIADB_ROOT_PASSWORD=abc123 mariadb:10.10.2\ndocker exec -it my-mariadb bash\n\n// Test connect\nmysql --help\nmysql -u root --password=abc123\nmysql --host host.docker.internal --port 3306 -u root --password=password\nmysql --host staging-v22.cxihrjsldwdw.ap-southeast-1.rds.amazonaws.com --port 3306 -u cplstaging --password=cplstagingdeptrai2022XX\n> SHOW DATABASES;\n\n// Backup\nmysqldump --help\n## Dump database adminv3 with table user\nmysqldump --host staging-v22.cxihrjsldwdw.ap-southeast-1.rds.amazonaws.com --port 3306 -u cplstaging --password=cplstagingdeptrai2022XX adminv3 user > data-dump.sql\n## Dump database adminv3 with table user and table migration\nmysqldump --host staging-v22.cxihrjsldwdw.ap-southeast-1.rds.amazonaws.com --port 3306 -u cplstaging --password=cplstagingdeptrai2022XX adminv3 user migrations > data-dump.sql\n## Dump database adminv3 with table admin_action_log and condition\nmysqldump --host staging-v22.cxihrjsldwdw.ap-southeast-1.rds.amazonaws.com --port 3306 -u cplstaging --password=cplstagingdeptrai2022XX adminv3 admin_action_log --where="created_at > 1669707228000" > data-dump.sql\n\n## Note: use ">> data-dump.sql". It will append the previous dump file.\n\n// Restore to database db_admin_backend\nmysql --host host.docker.internal --port 3306 -u root --password=password db_admin_backend < data-dump.sql\n'})})]})}function u(a={}){const{wrapper:t}={...(0,n.R)(),...a.components};return t?(0,s.jsx)(t,{...a,children:(0,s.jsx)(p,{...a})}):p(a)}},8453:(a,t,e)=>{e.d(t,{R:()=>o,x:()=>d});var s=e(6540);const n={},r=s.createContext(n);function o(a){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof a?a(t):{...t,...a}}),[t,a])}function d(a){let t;return t=a.disableParentContext?"function"==typeof a.components?a.components(n):a.components||n:o(a.components),s.createElement(r.Provider,{value:t},a.children)}}}]);