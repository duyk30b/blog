"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[827],{774:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var i=t(4848),s=t(8453);const r={},o="Firebase Authentication",c={id:"framework/google-project/firebase-authentication",title:"Firebase Authentication",description:"1. Create FireBase Project",source:"@site/content/framework/google-project/firebase-authentication.md",sourceDirName:"framework/google-project",slug:"/framework/google-project/firebase-authentication",permalink:"/blog/content/framework/google-project/firebase-authentication",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/content/framework/google-project/firebase-authentication.md",tags:[],version:"current",frontMatter:{},sidebar:"googleProjectSidebar",next:{title:"Firebase Cloud Firestore",permalink:"/blog/content/framework/google-project/firebase-cloud-firestore"}},a={},l=[];function d(e){const n={a:"a",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"firebase-authentication",children:"Firebase Authentication"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create FireBase Project"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Link: ",(0,i.jsx)(n.a,{href:"https://console.firebase.google.com/",children:"https://console.firebase.google.com/"})]}),"\n",(0,i.jsx)(n.li,{children:"Use Firebase Authentication with: Sign-in method: Facebook, Google, Twitter"}),"\n",(0,i.jsx)(n.li,{children:"Facebook example"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"App ID: 360546695603583 (includes facebook)\nApp secret: 5468bd1a4e6b3dfc278291fa60fba0c4 (includes facebook)\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Create App Facebook"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Link: ",(0,i.jsx)(n.a,{href:"https://developers.facebook.com/apps/",children:"https://developers.facebook.com/apps/"})]}),"\n",(0,i.jsxs)(n.li,{children:["Create Policy from: ",(0,i.jsx)(n.a,{href:"https://www.freeprivacypolicy.com/",children:"https://www.freeprivacypolicy.com/"}),' . ==> get link and file for "Baic Settings"']}),"\n",(0,i.jsx)(n.li,{children:"Basic Settings (importants):"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"App domains: duycode-77e9a.firebaseapp.com\nPrivacy Policy URL: https://www.freeprivacypolicy.com/live/e5f49c97-6f4d-40b9-95c7-bbdc284ba674\nUser data deletion: instructions URL: https://drive.google.com/file/d/1IhD88Bt5XXD5r-nnntLpX-G6ruhzA8Di/view?usp=share_link\nSite URL: https://duycode-77e9a.web.app/\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"App Mode: Development => Live"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Facebook Login Settings:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Embedded Browser OAuth Login: Yes\nValid OAuth Redirect URIs: https://duycode-77e9a.firebaseapp.com/__/auth/handler (includes firebase)\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"User remove registered app:"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:['Google: "',(0,i.jsx)(n.a,{href:"https://myaccount.google.com/permissions",children:"https://myaccount.google.com/permissions"}),'"']}),"\n",(0,i.jsxs)(n.li,{children:['Facebook: "',(0,i.jsx)(n.a,{href:"https://www.facebook.com/settings/?tab=applications",children:"https://www.facebook.com/settings/?tab=applications"}),'"']}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"SSL for localhost"}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Because: Facebook App required use Https"}),"\n",(0,i.jsx)(n.li,{children:"Create key and cert for OpenSSL"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'openssl req -days 3650 -x509 -newkey rsa:2048 -sha256 -nodes -keyout ./ssl/key.pem -out ./ssl/cert.pem -subj "/C=/ST=/L=/O=/OU=web/CN=medihome.vn"\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stop port 443 in your computer"}),"\n",(0,i.jsxs)(n.li,{children:["Run docker: ",(0,i.jsx)(n.code,{children:"docker compose up -d"})]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"Config Nginx"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-conf",metastring:'title="./conf.d/default.conf"',children:"server {\n    listen       443 ssl;\n    server_name  localhost;\n\n    ssl_certificate           /etc/nginx/ssl/cert.pem;\n    ssl_certificate_key       /etc/nginx/ssl/key.pem;\n    ssl_protocols             TLSv1.2 TLSv1.3;\n    ssl_prefer_server_ciphers on;\n    ssl_ciphers               'EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH';\n\n    location / {\n        root   /etc/nginx/dist;\n        index  index.html index.htm;\n    }\n}\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsxs)(n.li,{children:["Try access: ",(0,i.jsx)(n.code,{children:"https://localhost"})," to test"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="index.html"',children:'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Demo Firebase</title>\n    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"><\/script>\n    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />\n    <style>\n        p {\n            font-family: monospace;\n            white-space: pre-wrap;\n        }\n    </style>\n</head>\n\n<body>\n    <div id="app">\n        <h3>Welcome to Firebase Login Test</h3>\n        <div id="auth-info">Loader...</div>\n        <div id="firebaseui-auth-container"></div>\n    </div>\n\n    \x3c!-- Link setup firebase: https://firebase.google.com/docs/web/setup --\x3e\n    <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-app.js"><\/script>\n    <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-auth.js"><\/script>\n\n    <script>\n        var firebaseConfig = {\n            apiKey: "AIzaSyADcAyM-3Fb7ZJdJf86yLKFUnZmxx-QHmU",\n            authDomain: "duycode-77e9a.firebaseapp.com",\n        };\n        firebase.initializeApp(firebaseConfig);\n        let ui = new firebaseui.auth.AuthUI(firebase.auth());\n    <\/script>\n\n    <script>\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                // Just Login\n                document.getElementById(\'auth-info\').innerHTML = `\n                            <img src="${user.providerData[0].photoURL}"></img>\n                            <div>Xin ch\xe0o: ${user.providerData[0].displayName}</div>\n                            <div>UID: ${user.uid}</div>\n                            <div>Social: ${user.providerData[0].providerId}</div>\n                            <div><button onclick="signout()">Sign out</button></div>\n                            <p>${JSON.stringify(user, null, 4)}</p>\n                        `;\n            } else {\n                // Not Login\n                document.getElementById(\'auth-info\').innerHTML = ""\n                ui.start(\'#firebaseui-auth-container\', uiConfig);\n            }\n        });\n\n        // 2. Login UI\n        let uiConfig = {\n            callbacks: {\n                signInSuccessWithAuthResult: function (authResult, redirectUrl) {\n                    return false;\n                },\n                uiShown: function () {\n                    // 2.1. Finish load Firebase CSS\n                    document.getElementById(\'loader\').style.display = \'none\';\n                }\n            },\n            // 2.2. Signin page: popup\n            signInFlow: \'popup\',\n            signInOptions: [\n                {\n                    provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID,\n                    recaptchaParameters: {\n                        type: \'image\',\n                        size: \'normal\',\n                        badge: \'bottomleft\'\n                    },\n                    defaultCountry: \'VN\',\n                },\n                firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n                firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n            ],\n            tosUrl: \'/link-terms-of-service\',\n            privacyPolicyUrl: \'/link-privacy-policy\'\n        };\n\n        let signout = () => {\n            firebase.auth().signOut()\n                .then(() => {\n                    console.log("You are sign out");\n                })\n                .catch((error) => {\n                    console.log("SignOut faild");\n                });\n        }\n    <\/script>\n</body>\n\n</html>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);